{%extends "auth_layout.html"%}
{%block title%}Update Profile{%endblock%}
{%block nav%}{{super()}}{%endblock%}
{%block content%}
<div class="jumbotron">
    
    <p class="h4 mb-4 text-center">Update your profile</p>
        <form class="text-center border border-light p-5" action="" method="POST" enctype="multipart/form-data">
            {{form.hidden_tag()}}
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <!-- <input type="text" class="form-control" placeholder="First name"> -->
                            {%if form.first_name.errors%}
                                {{form.first_name(placeholder="First name", class="form-control is-invalid mb-2")}}
                                {%for error in form.first_name.errors%}
                                    <div class="invalid-feedback mb-2">
                                        <span>{{error}}</span>
                                    </div>
                                {%endfor%}
                            {%else%}
                                {{form.first_name(placeholder="First name", class="form-control")}}
                            {%endif%}
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            {%if form.last_name.errors%}
                                {{form.last_name(placeholder="Last name", class="form-control is-invalid mb-2")}}
                                {%for error in form.last_name.errors%}
                                    <div class="invalid-feedback mb-2">
                                        <span>{{error}}</span>
                                    </div>
                                {%endfor%}
                            {%else%}
                                {{form.last_name(placeholder="Last name", class="form-control mb-2")}}
                            {%endif%}
                        </div>
                    </div>
                </div>
                <div class="input-group">
                    <div class="custom-file">                        
                        {{form.picture(class="custom-file-input",id="inputGroupFile")}}
                        <label for="inputGroupFile" class="custom-file-label">
                            Choose file
                        </label>  
                    </div>                    
                </div>
                {%if form.picture.errors%}
                    {%for error in form.picture.errors%}
                        <span class="text-danger">{{error}}</span>
                    {%endfor%}
                {%endif%}
                {%if form.email.errors%}
                    {{form.email(placeholder="Email", class="form-control is-invalid mt-4")}}
                    {%for error in form.email.errors%}
                        <div class="invalid-feedback mb-2">
                            <span>{{error}}</span>
                        </div>
                    {%endfor%}
                {%else%}
                    {{form.email(placeholder="Email", class="form-control mb-2 mt-4")}}
                {%endif%}

                {%if form.number.errors%}
                    {{form.number(placeholder="Phone number", class="form-control is-invalid")}}
                    {%for error in form.number.errors%}
                        <div class="invalid-feedback mb-2">
                            <span>{{error}}</span>
                        </div>
                    {%endfor%}
                {%else%}
                    {{form.number(placeholder="Phone number", class="form-control mb-2")}}
                {%endif%}
                
                {%if form.state.errors%}
                    {{form.state(placeholder="State of Residence", class="form-control is-invalid")}}
                    {%for error in form.state.errors%}
                        <div class="invalid-feedback mb-2">
                            <span>{{error}}</span>
                        </div>
                    {%endfor%}
                {%else%}
                    {{form.state(placeholder="State of Residence", class="form-control mb-2")}}
                {%endif%}
        
                {{form.submit(class="btn btn-success my-4 btn-block", type="submit")}}
            </div>
        </form>
                
        <hr>
</div>
{%endblock%}

{%block script%}
    <script>
        $('#inputGroupFile').on('change', function(){
        var fileName= $(this).val();
        $(this).next('.custom-file-label').html(fileName);
        })

    </script>    
{%endblock%}
    